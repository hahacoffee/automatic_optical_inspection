clc()
import numpy as np
f=100
fx=100
fy=120
l=300
d=109.0909

#delta??????-5~5
delta=np.linspace(-5,5,1000)

#??????????????:??y ??0
#???????(L0)?????f-delta??(D)????????
#??????#f-delta??(F)????????(L0)?
#????????l=300mm???(L)?:
#??????(L1)?????d=109.0909??(T)????????????a
#??????(L2)?????d=109.0909??(T)????????????b
#?????????????y??????? a?b ??:
ss=(4*delta+2*l*delta)/f
a=1-ss-(d/fx)*(1-ss)-(d/f)*(1+2*d)
b=1-ss-(d/fy)*(1-ss)-(d/f)*(1+2*d)

#????????90?????
arc=(90*np.pi/180)/1000

#??????A~D?FES?
deang=np.linspace(-45,45,1000)
ang=deang*np.pi/180
i=0
D=np.zeros((1000,1000))
for ang1 in ang:
    end=(np.sqrt((a*np.cos(ang1))**2+(b*np.sin(ang1))**2))**2*arc/2
    D[i]=end
    i=i+1
deang=np.linspace(45,135,1000)
ang=deang*np.pi/180
i=0
A=np.zeros((1000,1000))
for ang1 in ang:
    end=(np.sqrt((a*np.cos(ang1))**2+(b*np.sin(ang1))**2))**2*arc/2
    A[i]=end
    i=i+1
deang=np.linspace(135,225,1000)
ang=deang*np.pi/180
i=0
B=np.zeros((1000,1000))
for ang1 in ang:
    end=(np.sqrt((a*np.cos(ang1))**2+(b*np.sin(ang1))**2))**2*arc/2
    B[i]=end
    i=i+1
deang=np.linspace(225,315,1000)
ang=deang*np.pi/180
i=0
C=np.zeros((1000,1000))
for ang1 in ang:
    end=(np.sqrt((a*np.cos(ang1))**2+(b*np.sin(ang1))**2))**2*arc/2
    C[i]=end
    i=i+1
A1=np.sum(A,axis=0)
B1=np.sum(B,axis=0)
C1=np.sum(C,axis=0)
D1=np.sum(D,axis=0)
FES=(A1+C1)-(B1+D1)
delta=dataObject(delta)
FES=dataObject(FES)

#??????delta?FES?????
plot1(FES,delta)


